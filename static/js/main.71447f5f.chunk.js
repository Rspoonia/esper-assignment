(this["webpackJsonpcensius-assignment"]=this["webpackJsonpcensius-assignment"]||[]).push([[0],{33:function(e,n,t){},35:function(e,n,t){},38:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var a=t(0),i=t.n(a),c=t(24),r=t.n(c),s=(t(33),t(10)),o=t(8),m=t(3),d=function(e){var n=e.setActiveMenu,t=e.mainMenuData;return Object(m.jsx)("section",{className:"nav-wrapper",children:t.map((function(e,t){return Object(m.jsxs)("div",{onClick:function(){return n(e)},"data-testid":"nav-item-".concat(t+1),children:[Object(m.jsx)("img",{src:e.iconUrl,className:"nav-images",alt:e.alt||e.name||""}),e.name]},e.name)}))})},u=(t(35),[{name:"Desktop",iconUrl:"https://img.icons8.com/emoji/48/000000/desktop-computer.png",alt:"desktop",items:[]},{name:"Downloads",iconUrl:"https://img.icons8.com/dusk/64/000000/downloads-folder--v1.png",alt:"downloads",items:[]},{name:"Music",iconUrl:"https://img.icons8.com/doodle/96/000000/photos-folder.png",alt:"music",items:[]}]),l=t(9),j=t(47),f=function(e){var n=e.item,t=e.deleteFolder,i=e.renameFolderHandler,c=Object(a.useState)(!1),r=Object(o.a)(c,2),s=r[0],d=r[1],u=Object(a.useState)(n.name),f=Object(o.a)(u,2),b=f[0],O=f[1],p=Object(a.useState)(!1),x=Object(o.a)(p,2),v=x[0],h=x[1],g=Object(a.useRef)();Object(a.useEffect)((function(){s&&g.current.focus()}),[s]);var I=function(e){e.preventDefault();var t=e.target.value?e.target.value:n.name;i(n,t),d(!1)},N=Object(j.a)((function(){return{type:"box",item:n,collect:function(e){e.isDragging()&&h(!0),e.isDragging()||setTimeout((function(){return h(!1)}),1500)}}})),w=Object(o.a)(N,2)[1];return Object(m.jsxs)("div",{children:[Object(m.jsx)(l.b,{id:n.id,disable:v,children:Object(m.jsxs)("span",{className:"folder-created",ref:w,style:{transform:"translate(".concat(n.x,"px, ").concat(n.y,"px)")},children:[Object(m.jsx)("img",{src:n.iconUrl,alt:n.name}),s?Object(m.jsx)("input",{value:b,ref:g,onChange:function(e){return O(e.target.value)},onBlur:function(e){return I(e)},onKeyDown:function(e){return"Enter"===e.key&&I(e)}}):Object(m.jsx)("span",{children:n.name})]})}),Object(m.jsxs)(l.a,{className:"menu",id:n.id,children:[Object(m.jsx)(l.c,{onClick:function(e){return t(e,n)},data:{item:n},className:"menuItem",children:"Delete"}),Object(m.jsx)(l.c,{data:{item:n},className:"menuItem",onClick:function(){return d(!0)},children:"Rename"})]})]})},b=function(e){var n,t=e.menuItems,a=e.deleteFolder,i=e.renameFolderHandler;return Object(m.jsx)("div",{className:"wrapper-items",children:(null===(n=t[0].items)||void 0===n?void 0:n.length)>0?t[0].items.map((function(e){return Object(m.jsx)(f,{item:e,deleteFolder:a,renameFolderHandler:i},e.id)})):Object(m.jsx)("h2",{children:"No folder created"})})},O=t(49),p=t(48),x=(t(38),function(e){var n=e.mainMenuData,t=e.setMainMenuItems,a=e.activeMenu,i=n.filter((function(e){return e.name===a.name})),c=Object(p.a)((function(){return{accept:"box",drop:function(e,i){var c=Object(s.a)(n),r=c.findIndex((function(e){return e.name===a.name})),o=c[r].items.findIndex((function(n){return n.id===e.id})),m=i.getDifferenceFromInitialOffset(),d=m.x,u=void 0===d?20:d,l=m.y,j=void 0===l?20:l;c[r].items[o].x+=u,c[r].items[o].y+=j,t(c)}}}),[a.name]),r=Object(o.a)(c,2)[1];return Object(m.jsxs)("section",{className:"main-wrapper",ref:r,children:[Object(m.jsx)(l.b,{id:"wrapper-id",children:Object(m.jsx)("div",{className:"main-section",children:Object(m.jsx)(b,{menuItems:i,deleteFolder:function(e,i){e.stopPropagation();var c=Object(s.a)(n),r=c.findIndex((function(e){return e.name===a.name}));c[r].items=c[r].items.filter((function(e){return e.id!==i.id})),t(c)},renameFolderHandler:function(e,i){var c=Object(s.a)(n),r=c.findIndex((function(e){return e.name===a.name})),o=c[r].items.findIndex((function(n){return n.id===e.id}));c[r].items[o].name=i,t(c)}})})}),Object(m.jsx)(l.a,{className:"menu",id:"wrapper-id",children:Object(m.jsx)(l.c,{onClick:function(){var e=Object(s.a)(n),i=e.findIndex((function(e){return e.name===a.name})),c=e[i].items.length,r=e[i].items.length<10?20:160,o=c<10?120*c:120*c-1200;e[i].items.push({name:"New Folder "+(new Date).getTime(),iconUrl:"https://img.icons8.com/plasticine/100/000000/folder-invoices.png",altText:a.name+c,id:Object(O.a)(),x:o+20,y:20+r}),t(e)},data:{item:"Home"},className:"menuItem",children:"Create"})})]})}),v=t(46),h=t(27);var g=function(){var e=Object(a.useState)(u[0]),n=Object(o.a)(e,2),t=n[0],i=n[1],c=Object(a.useState)(Object(s.a)(u)),r=Object(o.a)(c,2),l=r[0],j=r[1];return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)("h2",{"data-testid":"active-menu-id",children:t.name}),Object(m.jsxs)("div",{className:"wrapper",children:[Object(m.jsx)(d,{setActiveMenu:i,mainMenuData:l}),Object(m.jsx)(v.a,{backend:h.a,children:Object(m.jsx)(x,{mainMenuData:l,setMainMenuItems:j,activeMenu:t})})]})]})},I=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,50)).then((function(n){var t=n.getCLS,a=n.getFID,i=n.getFCP,c=n.getLCP,r=n.getTTFB;t(e),a(e),i(e),c(e),r(e)}))};r.a.render(Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)(g,{})}),document.getElementById("root")),I()}},[[40,1,2]]]);
//# sourceMappingURL=main.71447f5f.chunk.js.map